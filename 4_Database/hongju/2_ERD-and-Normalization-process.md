# ERD
- Entity Relationship Diagram
- DB를 구축할 때 **가장 기초적인 뼈대** 역할
    - 매우 중요!
- Relation간의 관계들을 정의한 것

## 중요성
- 시스템 요구사항 -> ERD -> 데이터베이스
- 데이터베이스 구축 이후에도 아래 이유들로 **설계도** 역할을 담당함
    - 디버깅
    - 비즈니스 프로세스 재설계

## 단점
- 비정형 데이터 표현은 충분하지 않음(용도)
- 비정형 데이터?
    - 미리 정의된 모델이 없거나
    - 미리 정의된 방식으로 정리되지 않은 정보

# 정규화 과정
- 아래 이유들로 릴레이션을 여러개로 분리하는 과정
    - 릴레이션 간의 잘못된 종속 관계로 DB 오류(이상 현상)가 발생
    - 저장 공간을 효율적으로 사용하기 위해
- 정규형(NF, Normal Form) 원칙을 기반으로 정규형을 만들어가는 과정
- 정규화된 정도를 정규형으로 표현함
- 테이블을 나누게 되면 어떠한 쿼리에서는 JOIN이 필요하여 오히려 성능이 떨어질 수 있음
    - 서비스에 따라 적절하게 취사선택하여 사용해야 함

## 정규형 원칙
- **같은 의미를 표현하는 릴레이션**이지만, 아래 조건들을 만족해야 함
- 더 효율적인 구조
- 자료 중복성 감소
- 독립적인 관계는 별개의 릴레이션으로 표현해야 함
- 각 릴레이션은 독립적인 표현이 가능

# 기본 정규형
## 제1정규형
- 릴레이션의 모든 도메인이 atomic value만으로 구성되는 형식
- 릴레이션의 속성 값 중에서 반복 집합이 있어서는 안 됨
    - 반복집합?
    - 한 개의 기본키에 대해 두 개 이상의 값을 가지는 집합

## 제2정규형
- 제1정규형이면서 부분 함수의 종속성을 제거한 형식
    - Partial Dependency
- 부분 함수의 종속성 제거란?
    - PK가 아닌 모든 속성이 PK에 완전 함수 종속적인 것
        - Q. 함수 종속적?
- 주의사항
    - 릴레이션을 분해할 때, 동등한 릴레이션으로 분해해야 함
        - Q. 동등한 릴레이션?
    - 무손실로 분해되어야 함

## 제3정규형
- 제2정규형이면서 모든 속성이 이행적 함수 종속(Transtive FD)을 만족하지 않는 상태
- 이행적 함수 종속이란?
    - A -> B, B -> C, A -> C의 관계일 때
    - 집합 C가 집합 A에 이행적으로 함수 종속되었다고 표현

## 보이스/코드 정규형
- 제3정규형이면서 결정자가 후보키가 아닌 함수 종속 관계를 제거하여
- 릴레이션의 함수 종속 관계에서 **모든 결정자가 후보키인** 상태
